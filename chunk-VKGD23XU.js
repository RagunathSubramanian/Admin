import{b as R,d as Q}from"./chunk-OCP6ILJ3.js";import{a as E,b as W}from"./chunk-BWHYGX4V.js";import{Ba as o,Ka as l,Kb as _,Lb as T,Nb as b,Oa as d,Va as f,Wa as u,Ya as C,_ as c,_a as m,bb as h,bc as A,cb as s,db as v,ic as M,jb as g,kb as y,mb as D,nb as O,ob as w}from"./chunk-77XPDUDI.js";import{a as r,b as n,d as L}from"./chunk-3A3XYTID.js";function I(i,q){i&1&&(h(0,"div",2),y(1),s())}var S,j,F,H,V=L(()=>{"use strict";b();M();Q();W();b();S=["chartCanvas"],j=[[["","footer",""]]],F=["[footer]"];H=(()=>{class i{title;subtitle;chartData;chartOptions;chartType="line";height="400px";showLegend=!1;footer=!1;responsive=!0;maintainAspectRatio=!1;chartCanvas;chart;mergedOptions=_(()=>n(r({},this.chartOptions),{responsive:this.responsive,maintainAspectRatio:this.maintainAspectRatio,plugins:n(r({},this.chartOptions?.plugins),{legend:n(r({},this.chartOptions?.plugins?.legend),{display:this.showLegend})})}));constructor(){T(()=>{this.chart&&this.chartData&&(this.updateChartData(),this.updateChartOptions())})}containerClasses(){return`relative ${this.responsive?"w-full":""}`}ngAfterViewInit(){this.chartCanvas&&this.chartData&&this.createChart()}ngOnChanges(t){this.chart&&(t.chartType?(this.destroyChart(),this.createChart()):t.chartData?this.updateChartData():t.chartOptions&&this.updateChartOptions())}ngOnDestroy(){this.destroyChart()}createChart(){if(!this.chartCanvas||!this.chartData)return;let t=this.chartCanvas.nativeElement.getContext("2d");if(!t)return;let e={type:this.chartType,data:this.chartData,options:this.mergedOptions()};this.chart=new R(t,e)}updateChartData(){!this.chart||!this.chartData||(this.chart.data=this.chartData,this.chart.update())}updateChartOptions(){this.chart&&(this.chart.options=this.mergedOptions(),this.chart.update())}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=void 0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=l({type:i,selectors:[["app-chart-wrapper"]],viewQuery:function(e,a){if(e&1&&D(S,5),e&2){let p;O(p=w())&&(a.chartCanvas=p.first)}},inputs:{title:"title",subtitle:"subtitle",chartData:"chartData",chartOptions:"chartOptions",chartType:"chartType",height:"height",showLegend:"showLegend",footer:"footer",responsive:"responsive",maintainAspectRatio:"maintainAspectRatio"},features:[c],ngContentSelectors:F,decls:5,vars:7,consts:[["chartCanvas",""],[3,"title","subtitle"],["footer",""]],template:function(e,a){e&1&&(g(j),h(0,"app-card",1)(1,"div"),v(2,"canvas",null,0),s(),d(4,I,2,0,"div",2),s()),e&2&&(f("title",a.title)("subtitle",a.subtitle),o(),C(a.containerClasses()),u("height",a.height),o(3),m(a.footer?4:-1))},dependencies:[A,E],encapsulation:2})}return i})()});export{H as a,V as b};
