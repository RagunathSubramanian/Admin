import{a as E,b as T,c as k,e as b}from"./chunk-PYB7RU6R.js";import{J as N,K as S,N as f,Nb as g,S as M,j as i,k as d,oa as u,v as l,z as n}from"./chunk-ZWOVSD7C.js";import{d as A}from"./chunk-3A3XYTID.js";var j,w=A(()=>{"use strict";g();b();N();S();g();b();j=(()=>{class a{http;baseUrl=u("/api");useMock=u(!0);constructor(t){this.http=t}get(t,e){if(this.useMock())return this.mockGet(t,e);let o=this.buildParams(e);return this.http.get(`${this.baseUrl()}${t}`,{params:o}).pipe(l(this.handleError))}post(t,e){return this.useMock()?this.mockPost(t,e):this.http.post(`${this.baseUrl()}${t}`,e,{headers:this.getHeaders()}).pipe(l(this.handleError))}put(t,e){return this.useMock()?this.mockPut(t,e):this.http.put(`${this.baseUrl()}${t}`,e,{headers:this.getHeaders()}).pipe(l(this.handleError))}delete(t){return this.useMock()?this.mockDelete(t):this.http.delete(`${this.baseUrl()}${t}`,{headers:this.getHeaders()}).pipe(l(this.handleError))}mockGet(t,e){console.log("Mock GET:",t,e);let o=this.resolveMockGet(t,e);return i(o??{}).pipe(n(300))}mockPost(t,e){return console.log("Mock POST:",t,e),i(e).pipe(n(300))}mockPut(t,e){return console.log("Mock PUT:",t,e),i(e).pipe(n(300))}mockDelete(t){return console.log("Mock DELETE:",t),i({}).pipe(n(300))}resolveMockGet(t,e){switch(t){case"/dashboard/data":return this.getDashboardDataMock(e);default:return{}}}getDashboardDataMock(t){let e=[{Timestamp:"2025-01-15T08:30:00Z",NAME:"Alice Johnson",FIN:"FIN001",DATE:"2025-01-15","Total Drops":45,"Multi Drops":12,"Heavy Drops":6,"Upload Way Sheet Photo":"https://example.com/waybills/FIN001.jpg",Shift:"Morning","Walkup Drop Count":10,"Double Drop Count":4,"Email Address":"alice.johnson@example.com",TotalDrops:45,Amount:3250,Month:"Jan 2025"},{Timestamp:"2025-01-22T16:45:00Z",NAME:"Brian Lee",FIN:"FIN002",DATE:"2025-01-22","Total Drops":52,"Multi Drops":18,"Heavy Drops":9,"Upload Way Sheet Photo":"https://example.com/waybills/FIN002.jpg",Shift:"Evening","Walkup Drop Count":14,"Double Drop Count":6,"Email Address":"brian.lee@example.com",TotalDrops:52,Amount:4120,Month:"Jan 2025"},{Timestamp:"2025-02-10T09:15:00Z",NAME:"Carla Mendes",FIN:"FIN003",DATE:"2025-02-10","Total Drops":48,"Multi Drops":15,"Heavy Drops":7,"Upload Way Sheet Photo":"https://example.com/waybills/FIN003.jpg",Shift:"Morning","Walkup Drop Count":11,"Double Drop Count":5,"Email Address":"carla.mendes@example.com",TotalDrops:48,Amount:3585,Month:"Feb 2025"},{Timestamp:"2025-02-18T13:20:00Z",NAME:"Dev Patel",FIN:"FIN004",DATE:"2025-02-18","Total Drops":55,"Multi Drops":20,"Heavy Drops":11,"Upload Way Sheet Photo":"https://example.com/waybills/FIN004.jpg",Shift:"Afternoon","Walkup Drop Count":16,"Double Drop Count":7,"Email Address":"dev.patel@example.com",TotalDrops:55,Amount:4390,Month:"Feb 2025"},{Timestamp:"2025-03-05T07:50:00Z",NAME:"Ella Martinez",FIN:"FIN005",DATE:"2025-03-05","Total Drops":61,"Multi Drops":22,"Heavy Drops":13,"Upload Way Sheet Photo":"https://example.com/waybills/FIN005.jpg",Shift:"Morning","Walkup Drop Count":18,"Double Drop Count":8,"Email Address":"ella.martinez@example.com",TotalDrops:61,Amount:4685,Month:"Mar 2025"}];return this.filterDashboardDataMock(e,t)}filterDashboardDataMock(t,e){if(!e)return t;let o=[...t],c=e.month;if(c){let s=String(c).toLowerCase();o=o.filter(r=>String(r.Month).toLowerCase().includes(s))}let m=e.shift;if(m){let s=String(m).toLowerCase();o=o.filter(r=>String(r.Shift).toLowerCase()===s)}let D=e.email;if(D){let s=String(D).toLowerCase();o=o.filter(r=>String(r["Email Address"]).toLowerCase().includes(s))}let p=e.startDate?new Date(String(e.startDate)):null,h=e.endDate?new Date(String(e.endDate)):null;return(p||h)&&(o=o.filter(s=>{let r=new Date(s.DATE);return!(Number.isNaN(r.getTime())||p&&r<p||h&&r>h)})),o}buildParams(t){let e=new T;return t&&Object.keys(t).forEach(o=>{t[o]!==null&&t[o]!==void 0&&(e=e.set(o,t[o].toString()))}),e}getHeaders(){return new E({"Content-Type":"application/json"})}handleError=t=>(console.error("API Error:",t),d(()=>t));static \u0275fac=function(e){return new(e||a)(M(k))};static \u0275prov=f({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()});export{j as a,w as b};
