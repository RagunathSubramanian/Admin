import{c as te,d as ue}from"./chunk-F3C3DPQ7.js";import{a as ie,b as ce,c as oe,d as he}from"./chunk-TPTFHVLD.js";import{a as ne,b as de,c as ae,d as me}from"./chunk-IH4XG7TN.js";import"./chunk-OCP6ILJ3.js";import"./chunk-OKMSR2WX.js";import"./chunk-DFADLG5I.js";import"./chunk-ZMABTEAI.js";import"./chunk-4QDCLFOO.js";import{c as re,d as pe}from"./chunk-NI4BJD2M.js";import{$ as R,A as P,Ba as p,Bb as C,Cb as S,Db as H,K as le,Ka as $,Lb as h,Mb as J,Oa as L,Ob as Q,T as N,Ua as B,Va as v,Xa as Y,_a as F,_b as X,aa as M,ab as k,ba as U,bb as w,bc as K,ca as A,cb as a,db as i,eb as _,ga as G,hb as V,hc as ee,ib as x,jb as f,oa as y,rb as d,sb as q,tb as g,ub as Z}from"./chunk-VUHZN6IL.js";import{a as z,b as j,d as se}from"./chunk-3A3XYTID.js";function ge(l,m){l&1&&(a(0,"div",3),d(1," Loading dashboard data\u2026 "),i())}function De(l,m){if(l&1&&(a(0,"div",4),d(1),i()),l&2){let e=f();p(),g(" ",e.error()," ")}}function fe(l,m){if(l&1){let e=V();a(0,"button",45),x("click",function(){let t=R(e).$implicit,n=f();return M(n.setRange(t.value))}),d(1),i()}if(l&2){let e=m.$implicit,r=f();Y("bg-primary-600",r.performanceRange()===e.value)("text-white",r.performanceRange()===e.value)("border-primary-600",r.performanceRange()===e.value)("border-gray-200",r.performanceRange()!==e.value)("text-gray-600",r.performanceRange()!==e.value),p(),g(" ",e.label," ")}}function ye(l,m){l&1&&d(0," \u2191 ")}function Ce(l,m){l&1&&d(0," \u2193 ")}function ve(l,m){l&1&&d(0," \u21C5 ")}function xe(l,m){if(l&1){let e=V();a(0,"th",40)(1,"button",46),x("click",function(){let t=R(e).$implicit,n=f();return M(n.toggleSort(t.key))}),a(2,"span"),d(3),i(),a(4,"span",47),L(5,ye,1,0)(6,Ce,1,0)(7,ve,1,0),i()()()}if(l&2){let e=m.$implicit,r=f();p(3),q(e.label),p(2),F(r.getSortDirection(e.key)==="asc"?5:r.getSortDirection(e.key)==="desc"?6:7)}}function Se(l,m){if(l&1){let e=V();a(0,"th",42)(1,"input",48),x("input",function(t){let n,s=R(e).$implicit,o=f();return M(o.updateFilter(s.key,(n=t.target==null?null:t.target.value)!==null&&n!==void 0?n:""))}),i()()}if(l&2){let e=m.$implicit,r=f();p(),v("value",r.getFilterValue(e.key))("placeholder","Filter "+e.label),B("type",e.type==="number"?"number":e.type==="date"?"date":"text")}}function Te(l,m){if(l&1&&(a(0,"td",49),d(1),i()),l&2){let e=m.$implicit,r=f().$implicit,t=f();p(),g(" ",t.formatCellValue(r,e)," ")}}function _e(l,m){if(l&1&&(a(0,"tr",44),k(1,Te,2,1,"td",49,I),i()),l&2){let e=f();p(),w(e.tableColumns)}}function ke(l,m){if(l&1&&(a(0,"tr")(1,"td",50),d(2," No records match the current filters. "),i()()),l&2){let e=f();p(),B("colspan",e.tableColumns.length)}}var be,I,Oe,we=se(()=>{Q();ee();pe();de();me();ce();le();he();ue();Q();ee();be=(l,m)=>m.value,I=(l,m)=>m.key;Oe=(()=>{class l{dashboardService=N(oe);destroyRef=N(G);authService=N(te);isLoading=y(!1);error=y(null);dashboardData=y([]);currentUserEmail=h(()=>this.authService.getCurrentUserEmail());tableColumns=[{key:"Timestamp",label:"Timestamp",type:"text"},{key:"NAME",label:"Name",type:"text"},{key:"Shift",label:"Shift",type:"text"},{key:"Total Drops",label:"Total Drops",type:"number",numeric:!0},{key:"Multi Drops",label:"Multi Drops",type:"number",numeric:!0},{key:"Heavy Drops",label:"Heavy Drops",type:"number",numeric:!0},{key:"Walkup Drop Count",label:"Walkup Drops",type:"number",numeric:!0},{key:"Double Drop Count",label:"Double Drops",type:"number",numeric:!0}];tableFilters=y(this.tableColumns.reduce((e,r)=>(e[r.key]="",e),{}));sortState=y(null);filteredTableData=h(()=>{let e=this.tableFilters(),r=this.sortState(),n=this.filteredRecords().filter(o=>this.tableColumns.every(u=>{let c=e[u.key];if(!c)return!0;let b=o[u.key];if(b==null)return!1;if(u.type==="number"){let T=Number(c);return Number.isNaN(T)?!0:Number(b)===T}return String(b).toLowerCase().includes(c.toLowerCase())}));if(!r)return n;let s=this.tableColumns.find(o=>o.key===r.key);return[...n].sort((o,u)=>{let c=o[r.key],b=u[r.key];if(s?.numeric){let O=this.ensureNumber(c),W=this.ensureNumber(b);return r.direction==="asc"?O-W:W-O}let D=String(c??""),T=String(b??""),E=D.localeCompare(T,void 0,{sensitivity:"base",numeric:!0});return r.direction==="asc"?E:-E})});lineChartOptions={elements:{line:{tension:.5}},scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1};lineChartType="line";lineChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createLineChartData([],[]);let r=this.groupAndSumByDropCount(e,t=>t.Month||this.tryGetMonthFromDate(t.DATE));return this.createLineChartData(r.labels,r.values)});dailyTrendsChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createLineChartData([],[],"Daily Drops",{background:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 1)"});let r=new Map;e.forEach(n=>{let s=n.DATE;if(!s)return;let o=this.parseRecordDate({DATE:s});if(!o)return;let u=o.toISOString().split("T")[0],c=r.get(u);c?c.value+=this.ensureNumber(n.DropCount):r.set(u,{date:o,value:this.ensureNumber(n.DropCount)})});let t=Array.from(r.entries()).map(([n,s])=>({label:s.date.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),value:s.value,date:s.date})).sort((n,s)=>n.date.getTime()-s.date.getTime());return this.createLineChartData(t.map(n=>n.label),t.map(n=>n.value),"Daily Drops",{background:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 1)"})});dailyTrendsChartOptions={elements:{line:{tension:.5}},scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1};dailyTrendsChartType="line";dropTypeChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createPieChartData([],[]);let r=[{label:"Multi Drops",value:this.sumNumeric(e,"Multi Drops")},{label:"Heavy Drops",value:this.sumNumeric(e,"Heavy Drops")},{label:"Walkup Drops",value:this.sumNumeric(e,"Walkup Drop Count")},{label:"Double Drops",value:this.sumNumeric(e,"Double Drop Count")},{label:"Single Drops",value:e.reduce((t,n)=>t+this.ensureNumber(n.DropCount),0)-this.sumNumeric(e,"Multi Drops")-this.sumNumeric(e,"Heavy Drops")-this.sumNumeric(e,"Walkup Drop Count")-this.sumNumeric(e,"Double Drop Count")}];return this.createPieChartData(r.map(t=>t.label),r.map(t=>t.value),["rgba(59, 130, 246, 0.8)","rgba(126, 156, 146, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(27, 244, 172, 0.9)"])});dropTypeChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};dropTypeChartType="pie";totalDrops=h(()=>this.filteredRecords().reduce((e,r)=>e+this.ensureNumber(r.DropCount),0));multiDrops=h(()=>this.sumNumeric(this.filteredRecords(),"Multi Drops"));heavyDrops=h(()=>this.sumNumeric(this.filteredRecords(),"Heavy Drops"));walkupDropCount=h(()=>this.sumNumeric(this.filteredRecords(),"Walkup Drop Count"));doubleDropCount=h(()=>this.sumNumeric(this.filteredRecords(),"Double Drop Count"));dailyTotals=h(()=>new Set(this.filteredRecords().map(r=>r.DATE)).size||1);recordsCount=h(()=>this.filteredRecords().length);performanceRange=y("month");customStart=y(null);customEnd=y(null);rangeOptions=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"}];filteredRecords=h(()=>{let e=this.dashboardData(),r=this.performanceRange(),t=this.customStart(),n=this.customEnd(),s=this.currentUserEmail(),o=e;if(s){let b=s.toLowerCase().trim();o=e.filter(D=>{let T=(D["Email Address"]||"").toLowerCase().trim(),E=T===b;return!E&&e.length>0&&e.indexOf(D)===0&&console.log("User Dashboard - Email mismatch:",{userEmail:b,recordEmail:T,record:D}),E}),console.log("User Dashboard - Filtered records:",o.length,"out of",e.length)}else console.warn("User Dashboard - No user email found, showing all records");let{startDate:u,endDate:c}=this.getRangeBounds(r,t,n);return!u&&!c?o:o.filter(b=>{let D=this.parseRecordDate(b);return!(!D||u&&D<u||c&&D>c)})});groupedData=h(()=>{let e=this.filteredRecords(),r=new Map;return e.forEach(n=>{let s=n.DATE||"Unknown",o=s,u=r.get(o);u?(u["Total Drops"]+=this.ensureNumber(n["Total Drops"]),u["Multi Drops"]+=this.ensureNumber(n["Multi Drops"]),u["Heavy Drops"]+=this.ensureNumber(n["Heavy Drops"]),u["Walkup Drop Count"]+=this.ensureNumber(n["Walkup Drop Count"]),u["Double Drop Count"]+=this.ensureNumber(n["Double Drop Count"]),u.DropCount+=this.ensureNumber(n.DropCount||0)):r.set(o,{DATE:s,"Total Drops":this.ensureNumber(n["Total Drops"]),"Multi Drops":this.ensureNumber(n["Multi Drops"]),"Heavy Drops":this.ensureNumber(n["Heavy Drops"]),"Walkup Drop Count":this.ensureNumber(n["Walkup Drop Count"]),"Double Drop Count":this.ensureNumber(n["Double Drop Count"]),DropCount:this.ensureNumber(n.DropCount||0)})}),Array.from(r.values()).sort((n,s)=>{let o=this.parseRecordDate({DATE:n.DATE}),u=this.parseRecordDate({DATE:s.DATE});return!o&&!u?0:o?u?u.getTime()-o.getTime():-1:1})});groupedDataSignal=y([]);groupedTablePageSize=y(10);groupedTableColumns=[{key:"DATE",label:"Date",sortable:!0,filterable:!0},{key:"Total Drops",label:"Total Drops",sortable:!0,render:e=>e["Total Drops"].toLocaleString()},{key:"Multi Drops",label:"Multi Drops",sortable:!0,render:e=>e["Multi Drops"].toLocaleString()},{key:"Heavy Drops",label:"Heavy Drops",sortable:!0,render:e=>e["Heavy Drops"].toLocaleString()},{key:"Walkup Drop Count",label:"Walkup Drops",sortable:!0,render:e=>e["Walkup Drop Count"].toLocaleString()},{key:"Double Drop Count",label:"Double Drops",sortable:!0,render:e=>e["Double Drop Count"].toLocaleString()},{key:"DropCount",label:"Drop Count",sortable:!0,render:e=>e.DropCount.toLocaleString()}];constructor(){J(()=>{let e=this.groupedData();this.groupedDataSignal.set(e)})}ngOnInit(){this.loadDashboardData()}loadDashboardData(e){this.isLoading.set(!0),this.error.set(null),this.dashboardService.getDashboardData(e).pipe(ie(this.destroyRef),P(()=>this.isLoading.set(!1))).subscribe({next:r=>{console.log("User Dashboard - Data loaded:",r.length,"records"),console.log("User Dashboard - Current user email:",this.currentUserEmail()),r.length>0&&(console.log("User Dashboard - Sample record email field:",r[0]["Email Address"]),console.log("User Dashboard - All unique emails in data:",[...new Set(r.map(t=>t["Email Address"]).filter(Boolean))])),this.dashboardData.set(r)},error:r=>{this.error.set(this.extractErrorMessage(r)),this.dashboardData.set([])}})}createLineChartData(e,r,t="Drop Count",n={background:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 1)"}){return{datasets:[{data:r,label:t,backgroundColor:n.background,borderColor:n.border,pointBackgroundColor:n.border,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n.border,fill:"origin"}],labels:e}}createPieChartData(e,r,t=[]){return{labels:e,datasets:[{data:r,backgroundColor:t.length>0?t:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:"#fff",borderWidth:1}]}}sumNumeric(e,r){return e.reduce((t,n)=>{let s=n[r],o=this.ensureNumber(s);return t+o},0)}groupAndSum(e,r,t="Total Drops"){let n=new Map;e.forEach(u=>{let c=r(u)||"Unknown",D=(n.get(c)??0)+this.ensureNumber(u[t]);n.set(c,D)});let s=Array.from(n.keys()),o=s.map(u=>n.get(u)??0);return{labels:s,values:o}}groupAndSumByDropCount(e,r){let t=new Map;e.forEach(o=>{let u=r(o)||"Unknown",b=(t.get(u)??0)+this.ensureNumber(o.DropCount);t.set(u,b)});let n=Array.from(t.keys()),s=n.map(o=>t.get(o)??0);return{labels:n,values:s}}ensureNumber(e){if(typeof e=="number")return e;if(typeof e=="string"&&e.trim()==="")return 0;let r=Number(e);return Number.isFinite(r)?r:0}tryGetMonthFromDate(e){if(!e)return"Unknown";let r=new Date(e);return Number.isNaN(r.getTime())?e:r.toLocaleString(void 0,{month:"short",year:"numeric"})}formatTimestamp(e){if(!e)return"Unknown time";let r=new Date(e);return Number.isNaN(r.getTime())?e:r.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}extractErrorMessage(e){return e instanceof Error||e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?e.message:"Unable to load dashboard data. Please try again later."}getRangeBounds(e,r,t){let n=new Date,s=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(e){case"today":return{startDate:s,endDate:new Date(s.getTime()+24*60*60*1e3-1)};case"week":{let o=new Date(s);return o.setDate(o.getDate()-6),{startDate:o,endDate:n}}case"month":return{startDate:new Date(n.getFullYear(),n.getMonth(),1),endDate:n};case"year":return{startDate:new Date(n.getFullYear(),0,1),endDate:n};case"custom":{let o=r?new Date(new Date(r).setHours(0,0,0,0)):null,u=t?new Date(new Date(t).setHours(0,0,0,0)):null;return{startDate:o,endDate:u}}default:return{startDate:null,endDate:null}}}parseRecordDate(e){let r=e.DATE||e.Timestamp;if(!r)return null;let t=new Date(r);return Number.isNaN(t.getTime())?null:t}applyCustomRange(){this.isCustomRangeValid()&&this.performanceRange.set("custom")}isCustomRangeValid=h(()=>{let e=this.customStart(),r=this.customEnd();if(!e||!r)return!1;let t=new Date(e),n=new Date(r);return t<=n});setRange(e){this.performanceRange.set(e),e!=="custom"&&(this.customStart.set(null),this.customEnd.set(null))}updateCustomStart(e){this.customStart.set(e||null)}updateCustomEnd(e){this.customEnd.set(e||null)}updateFilter(e,r){this.tableFilters.update(t=>j(z({},t),{[e]:r}))}clearFilters(){this.tableFilters.set(this.tableColumns.reduce((e,r)=>(e[r.key]="",e),{}))}toggleSort(e){this.sortState.update(r=>!r||r.key!==e?{key:e,direction:"asc"}:r.direction==="asc"?{key:e,direction:"desc"}:null)}getSortDirection(e){return this.sortState()?.key===e?this.sortState().direction:null}getFilterValue(e){return this.tableFilters()[e]??""}formatCellValue(e,r){let t=e[r.key];return t==null?"\u2014":r.key==="Timestamp"?this.formatTimestamp(String(t)):String(t)}trackByRecord=(e,r)=>r.Timestamp||r.FIN||e;static \u0275fac=function(r){return new(r||l)};static \u0275cmp=$({type:l,selectors:[["app-user-dashboard"]],decls:101,vars:54,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"rounded-md","border","border-primary-200","bg-primary-50","px-4","py-3","text-sm","text-primary-800"],[1,"rounded-md","border","border-red-200","bg-red-50","px-4","py-3","text-sm","text-red-700"],[1,"flex","flex-col","gap-3","lg:flex-row","lg:items-center","lg:justify-between"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"rounded-full","border","px-4","py-1.5","text-sm","font-medium","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"bg-primary-600","text-white","border-primary-600","border-gray-200","text-gray-600"],[1,"flex","flex-wrap","items-center","gap-2"],["type","date",1,"rounded-md","border","border-gray-300","px-3","py-1.5","text-sm","focus:border-primary-500","focus:outline-none","focus:ring-2","focus:ring-primary-200",3,"change","value"],[1,"text-sm","text-gray-400"],["type","button",1,"rounded-md","bg-primary-600","px-4","py-1.5","text-sm","font-medium","text-white","transition","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","disabled:bg-gray-300","disabled:text-gray-500",3,"click","disabled"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-2xl","font-semibold","text-gray-900"],[1,"mt-1","text-xs","text-gray-500"],[1,"p-3","bg-yellow-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"p-3","bg-primary-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"p-3","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["title","Monthly Drops","subtitle","Aggregated by month","height","256px",3,"chartData","chartOptions","chartType"],["title","Daily Drops Trends","subtitle","Drop count per day","height","256px",3,"chartData","chartOptions","chartType"],["title","Drop Type Distribution","subtitle","Share of drop categories","height","256px",3,"chartData","chartOptions","chartType"],["title","Grouped Summary","subtitle","Grouped by Date","padding","sm"],[3,"columns","data","pagination","pageSize","showToolbar","showFilters","searchable"],["title","Drop Records","subtitle","Filter each column or sort to analyse your drop performance","padding","sm"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-wrap","items-center","justify-between","gap-3"],[1,"text-sm","text-gray-600"],["type","button",1,"inline-flex","items-center","gap-2","rounded-md","border","border-gray-300","bg-white","px-3","py-1.5","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"click"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-4","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wider","text-gray-500"],[1,"bg-white"],[1,"px-4","py-2"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],["type","button",1,"rounded-full","border","px-4","py-1.5","text-sm","font-medium","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"click"],["type","button",1,"flex","items-center","gap-2","text-left","hover:text-primary-600","focus:outline-none",3,"click"],[1,"text-gray-400"],[1,"w-full","rounded-md","border","border-gray-300","px-2","py-1","text-sm","focus:border-primary-500","focus:outline-none","focus:ring-2","focus:ring-primary-200",3,"input","value","placeholder"],[1,"px-4","py-3","text-sm","text-gray-900"],[1,"px-4","py-6","text-center","text-sm","text-gray-500"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div")(2,"h1",1),d(3,"My Dashboard"),i(),a(4,"p",2),d(5,"View your performance data and statistics."),i()(),L(6,ge,2,0,"div",3)(7,De,2,1,"div",4),a(8,"div",5)(9,"div",6),k(10,fe,2,11,"button",7,be),i(),a(12,"div",8)(13,"input",9),x("change",function(s){return t.updateCustomStart((s.target==null?null:s.target.value)||"")}),i(),a(14,"span",10),d(15,"to"),i(),a(16,"input",9),x("change",function(s){return t.updateCustomEnd((s.target==null?null:s.target.value)||"")}),i(),a(17,"button",11),x("click",function(){return t.applyCustomRange()}),d(18," Apply "),i()()(),a(19,"div",12)(20,"app-card")(21,"div",13)(22,"div")(23,"p",14),d(24,"Drop Count"),i(),a(25,"p",15),d(26),C(27,"number"),i(),a(28,"p",16),d(29),C(30,"number"),i(),a(31,"p",16),d(32),C(33,"number"),i(),a(34,"p",16),d(35),C(36,"number"),i(),a(37,"p",16),d(38),C(39,"number"),i(),a(40,"p",16),d(41),C(42,"number"),i(),a(43,"p",16),d(44),C(45,"number"),i()(),a(46,"div",17),U(),a(47,"svg",18),_(48,"path",19),i()()()(),A(),a(49,"app-card")(50,"div",13)(51,"div")(52,"p",14),d(53,"Days Active"),i(),a(54,"p",15),d(55),C(56,"number"),i(),a(57,"p",16),d(58),i()(),a(59,"div",20),U(),a(60,"svg",21),_(61,"path",22),i()()()(),A(),a(62,"app-card")(63,"div",13)(64,"div")(65,"p",14),d(66,"Average per Day"),i(),a(67,"p",15),d(68),C(69,"number"),i(),a(70,"p",16),d(71," Total drops divided by active days "),i()(),a(72,"div",23),U(),a(73,"svg",24),_(74,"path",25),i()()()()(),A(),a(75,"div",26),_(76,"app-chart-wrapper",27)(77,"app-chart-wrapper",28),i(),_(78,"app-chart-wrapper",29),a(79,"app-card",30),_(80,"app-data-table",31),i(),a(81,"app-card",32)(82,"div",33)(83,"div",34)(84,"p",35),d(85),i(),a(86,"button",36),x("click",function(){return t.clearFilters()}),d(87," Clear filters "),i()(),a(88,"div",37)(89,"table",38)(90,"thead",39)(91,"tr"),k(92,xe,8,2,"th",40,I),i(),a(94,"tr",41),k(95,Se,2,3,"th",42,I),i()(),a(97,"tbody",43),k(98,_e,3,0,"tr",44,t.trackByRecord,!0,ke,3,1,"tr"),i()()()()()()),r&2&&(p(6),F(t.isLoading()?6:-1),p(),F(t.error()?7:-1),p(3),w(t.rangeOptions),p(3),v("value",t.customStart()||""),p(3),v("value",t.customEnd()||""),p(),v("disabled",!t.isCustomRangeValid()),p(9),g(" ",S(27,34,t.totalDrops())," "),p(3),g(" Single drops: ",S(30,36,t.totalDrops()-t.multiDrops()-t.heavyDrops()-t.walkupDropCount()-t.doubleDropCount())," "),p(3),g(" Multi drops: ",S(33,38,t.multiDrops())," "),p(3),g(" Heavy drops: ",S(36,40,t.heavyDrops())," "),p(3),g(" Walkup drops: ",S(39,42,t.walkupDropCount())," "),p(3),g(" Double drops: ",S(42,44,t.doubleDropCount())," "),p(3),g(" Avg drops/day: ",H(45,46,t.totalDrops()/t.dailyTotals(),"1.0-1")," "),p(11),g(" ",S(56,49,t.dailyTotals())," "),p(3),g(" Records: ",t.recordsCount()," "),p(10),g(" ",t.dailyTotals()>0?H(69,51,t.totalDrops()/t.dailyTotals(),"1.0-1"):0," "),p(8),v("chartData",t.lineChartData())("chartOptions",t.lineChartOptions)("chartType",t.lineChartType),p(),v("chartData",t.dailyTrendsChartData())("chartOptions",t.dailyTrendsChartOptions)("chartType",t.dailyTrendsChartType),p(),v("chartData",t.dropTypeChartData())("chartOptions",t.dropTypeChartOptions)("chartType",t.dropTypeChartType),p(2),v("columns",t.groupedTableColumns)("data",t.groupedDataSignal)("pagination",!0)("pageSize",t.groupedTablePageSize)("showToolbar",!1)("showFilters",!0)("searchable",!1),p(5),Z(" Showing ",t.filteredTableData().length," of ",t.recordsCount()," records "),p(7),w(t.tableColumns),p(3),w(t.tableColumns),p(3),w(t.filteredTableData()))},dependencies:[K,X,re,ne,ae],encapsulation:2})}return l})()});we();export{Oe as UserDashboardComponent};
