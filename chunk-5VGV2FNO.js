import{c as te,d as ue}from"./chunk-ZFPTAKLH.js";import{a as ie,b as ce,c as oe,d as he}from"./chunk-TPTFHVLD.js";import{a as ae,b as de,c as ne,d as me}from"./chunk-IH4XG7TN.js";import"./chunk-OCP6ILJ3.js";import"./chunk-OKMSR2WX.js";import"./chunk-DFADLG5I.js";import"./chunk-ZMABTEAI.js";import"./chunk-4QDCLFOO.js";import{c as re,d as pe}from"./chunk-NI4BJD2M.js";import{$ as R,A as P,Ba as u,Bb as v,Cb as _,Db as B,K as le,Ka as $,Lb as h,Mb as J,Oa as L,Ob as Q,T as N,Ua as H,Va as C,Xa as Y,_a as A,_b as X,aa as M,ab as k,ba as U,bb as w,bc as K,ca as F,cb as n,db as i,eb as S,ga as G,hb as V,hc as ee,ib as x,jb as f,oa as y,rb as d,sb as q,tb as g,ub as Z}from"./chunk-VUHZN6IL.js";import{a as z,b as j,d as se}from"./chunk-3A3XYTID.js";function ge(o,m){o&1&&(n(0,"div",3),d(1," Loading dashboard data\u2026 "),i())}function De(o,m){if(o&1&&(n(0,"div",4),d(1),i()),o&2){let e=f();u(),g(" ",e.error()," ")}}function fe(o,m){if(o&1){let e=V();n(0,"button",45),x("click",function(){let r=R(e).$implicit,a=f();return M(a.setRange(r.value))}),d(1),i()}if(o&2){let e=m.$implicit,t=f();Y("bg-primary-600",t.performanceRange()===e.value)("text-white",t.performanceRange()===e.value)("border-primary-600",t.performanceRange()===e.value)("border-gray-200",t.performanceRange()!==e.value)("text-gray-600",t.performanceRange()!==e.value),u(),g(" ",e.label," ")}}function ye(o,m){o&1&&d(0," \u2191 ")}function Ce(o,m){o&1&&d(0," \u2193 ")}function ve(o,m){o&1&&d(0," \u21C5 ")}function xe(o,m){if(o&1){let e=V();n(0,"th",40)(1,"button",46),x("click",function(){let r=R(e).$implicit,a=f();return M(a.toggleSort(r.key))}),n(2,"span"),d(3),i(),n(4,"span",47),L(5,ye,1,0)(6,Ce,1,0)(7,ve,1,0),i()()()}if(o&2){let e=m.$implicit,t=f();u(3),q(e.label),u(2),A(t.getSortDirection(e.key)==="asc"?5:t.getSortDirection(e.key)==="desc"?6:7)}}function Te(o,m){if(o&1){let e=V();n(0,"th",42)(1,"input",48),x("input",function(r){let a,s=R(e).$implicit,l=f();return M(l.updateFilter(s.key,(a=r.target==null?null:r.target.value)!==null&&a!==void 0?a:""))}),i()()}if(o&2){let e=m.$implicit,t=f();u(),C("value",t.getFilterValue(e.key))("placeholder","Filter "+e.label),H("type",e.type==="number"?"number":e.type==="date"?"date":"text")}}function Se(o,m){if(o&1&&(n(0,"td",49),d(1),i()),o&2){let e=m.$implicit,t=f().$implicit,r=f();u(),g(" ",r.formatCellValue(t,e)," ")}}function _e(o,m){if(o&1&&(n(0,"tr",44),k(1,Se,2,1,"td",49,O),i()),o&2){let e=f();u(),w(e.tableColumns)}}function ke(o,m){if(o&1&&(n(0,"tr")(1,"td",50),d(2," No records match the current filters. "),i()()),o&2){let e=f();u(),H("colspan",e.tableColumns.length)}}var be,O,Ie,we=se(()=>{Q();ee();pe();de();me();ce();le();he();ue();Q();ee();be=(o,m)=>m.value,O=(o,m)=>m.key;Ie=(()=>{class o{dashboardService=N(oe);destroyRef=N(G);authService=N(te);isLoading=y(!1);error=y(null);dashboardData=y([]);currentUserEmail=h(()=>this.authService.getCurrentUserEmail());tableColumns=[{key:"Timestamp",label:"Timestamp",type:"text"},{key:"NAME",label:"Name",type:"text"},{key:"Shift",label:"Shift",type:"text"},{key:"Total Drops",label:"Total Drops",type:"number",numeric:!0},{key:"Multi Drops",label:"Multi Drops",type:"number",numeric:!0},{key:"Heavy Drops",label:"Heavy Drops",type:"number",numeric:!0},{key:"Walkup Drop Count",label:"Walkup Drops",type:"number",numeric:!0},{key:"Double Drop Count",label:"Double Drops",type:"number",numeric:!0}];tableFilters=y(this.tableColumns.reduce((e,t)=>(e[t.key]="",e),{}));sortState=y(null);filteredTableData=h(()=>{let e=this.tableFilters(),t=this.sortState(),a=this.filteredRecords().filter(l=>this.tableColumns.every(p=>{let c=e[p.key];if(!c)return!0;let b=l[p.key];if(b==null)return!1;if(p.type==="number"){let T=Number(c);return Number.isNaN(T)?!0:Number(b)===T}return String(b).toLowerCase().includes(c.toLowerCase())}));if(!t)return a;let s=this.tableColumns.find(l=>l.key===t.key);return[...a].sort((l,p)=>{let c=l[t.key],b=p[t.key];if(s?.numeric){let I=this.ensureNumber(c),W=this.ensureNumber(b);return t.direction==="asc"?I-W:W-I}let D=String(c??""),T=String(b??""),E=D.localeCompare(T,void 0,{sensitivity:"base",numeric:!0});return t.direction==="asc"?E:-E})});lineChartOptions={elements:{line:{tension:.5}},scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1};lineChartType="line";lineChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createLineChartData([],[]);let t=this.groupAndSum(e,r=>r.Month||this.tryGetMonthFromDate(r.DATE));return this.createLineChartData(t.labels,t.values)});dailyTrendsChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createLineChartData([],[],"Daily Drops",{background:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 1)"});let t=new Map;e.forEach(a=>{let s=a.DATE;if(!s)return;let l=this.parseRecordDate({DATE:s});if(!l)return;let p=l.toISOString().split("T")[0],c=t.get(p);c?c.value+=this.ensureNumber(a["Total Drops"]):t.set(p,{date:l,value:this.ensureNumber(a["Total Drops"])})});let r=Array.from(t.entries()).map(([a,s])=>({label:s.date.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),value:s.value,date:s.date})).sort((a,s)=>a.date.getTime()-s.date.getTime());return this.createLineChartData(r.map(a=>a.label),r.map(a=>a.value),"Daily Drops",{background:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 1)"})});dailyTrendsChartOptions={elements:{line:{tension:.5}},scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1};dailyTrendsChartType="line";dropTypeChartData=h(()=>{let e=this.filteredRecords();if(!e.length)return this.createPieChartData([],[]);let t=[{label:"Multi Drops",value:this.sumNumeric(e,"Multi Drops")},{label:"Heavy Drops",value:this.sumNumeric(e,"Heavy Drops")},{label:"Walkup Drops",value:this.sumNumeric(e,"Walkup Drop Count")},{label:"Double Drops",value:this.sumNumeric(e,"Double Drop Count")},{label:"Single Drops",value:this.sumNumeric(e,"Total Drops")-this.sumNumeric(e,"Multi Drops")-this.sumNumeric(e,"Heavy Drops")-this.sumNumeric(e,"Walkup Drop Count")-this.sumNumeric(e,"Double Drop Count")}];return this.createPieChartData(t.map(r=>r.label),t.map(r=>r.value),["rgba(59, 130, 246, 0.8)","rgba(126, 156, 146, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(27, 244, 172, 0.9)"])});dropTypeChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};dropTypeChartType="pie";totalDrops=h(()=>this.sumNumeric(this.filteredRecords(),"Total Drops"));multiDrops=h(()=>this.sumNumeric(this.filteredRecords(),"Multi Drops"));heavyDrops=h(()=>this.sumNumeric(this.filteredRecords(),"Heavy Drops"));walkupDropCount=h(()=>this.sumNumeric(this.filteredRecords(),"Walkup Drop Count"));doubleDropCount=h(()=>this.sumNumeric(this.filteredRecords(),"Double Drop Count"));dailyTotals=h(()=>new Set(this.filteredRecords().map(t=>t.DATE)).size||1);recordsCount=h(()=>this.filteredRecords().length);performanceRange=y("month");customStart=y(null);customEnd=y(null);rangeOptions=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"}];filteredRecords=h(()=>{let e=this.dashboardData(),t=this.performanceRange(),r=this.customStart(),a=this.customEnd(),s=this.currentUserEmail(),l=e;if(s){let b=s.toLowerCase().trim();l=e.filter(D=>{let T=(D["Email Address"]||"").toLowerCase().trim(),E=T===b;return!E&&e.length>0&&e.indexOf(D)===0&&console.log("User Dashboard - Email mismatch:",{userEmail:b,recordEmail:T,record:D}),E}),console.log("User Dashboard - Filtered records:",l.length,"out of",e.length)}else console.warn("User Dashboard - No user email found, showing all records");let{startDate:p,endDate:c}=this.getRangeBounds(t,r,a);return!p&&!c?l:l.filter(b=>{let D=this.parseRecordDate(b);return!(!D||p&&D<p||c&&D>c)})});groupedData=h(()=>{let e=this.filteredRecords(),t=new Map;return e.forEach(a=>{let s=a.DATE||"Unknown",l=s,p=t.get(l);p?(p["Total Drops"]+=this.ensureNumber(a["Total Drops"]),p["Multi Drops"]+=this.ensureNumber(a["Multi Drops"]),p["Heavy Drops"]+=this.ensureNumber(a["Heavy Drops"]),p["Walkup Drop Count"]+=this.ensureNumber(a["Walkup Drop Count"]),p["Double Drop Count"]+=this.ensureNumber(a["Double Drop Count"]),p.DropCount+=this.ensureNumber(a.DropCount||0)):t.set(l,{DATE:s,"Total Drops":this.ensureNumber(a["Total Drops"]),"Multi Drops":this.ensureNumber(a["Multi Drops"]),"Heavy Drops":this.ensureNumber(a["Heavy Drops"]),"Walkup Drop Count":this.ensureNumber(a["Walkup Drop Count"]),"Double Drop Count":this.ensureNumber(a["Double Drop Count"]),DropCount:this.ensureNumber(a.DropCount||0)})}),Array.from(t.values()).sort((a,s)=>{let l=this.parseRecordDate({DATE:a.DATE}),p=this.parseRecordDate({DATE:s.DATE});return!l&&!p?0:l?p?p.getTime()-l.getTime():-1:1})});groupedDataSignal=y([]);groupedTablePageSize=y(10);groupedTableColumns=[{key:"DATE",label:"Date",sortable:!0,filterable:!0},{key:"Total Drops",label:"Total Drops",sortable:!0,render:e=>e["Total Drops"].toLocaleString()},{key:"Multi Drops",label:"Multi Drops",sortable:!0,render:e=>e["Multi Drops"].toLocaleString()},{key:"Heavy Drops",label:"Heavy Drops",sortable:!0,render:e=>e["Heavy Drops"].toLocaleString()},{key:"Walkup Drop Count",label:"Walkup Drops",sortable:!0,render:e=>e["Walkup Drop Count"].toLocaleString()},{key:"Double Drop Count",label:"Double Drops",sortable:!0,render:e=>e["Double Drop Count"].toLocaleString()},{key:"DropCount",label:"Drop Count",sortable:!0,render:e=>e.DropCount.toLocaleString()}];constructor(){J(()=>{let e=this.groupedData();this.groupedDataSignal.set(e)})}ngOnInit(){this.loadDashboardData()}loadDashboardData(e){this.isLoading.set(!0),this.error.set(null),this.dashboardService.getDashboardData(e).pipe(ie(this.destroyRef),P(()=>this.isLoading.set(!1))).subscribe({next:t=>{console.log("User Dashboard - Data loaded:",t.length,"records"),console.log("User Dashboard - Current user email:",this.currentUserEmail()),t.length>0&&(console.log("User Dashboard - Sample record email field:",t[0]["Email Address"]),console.log("User Dashboard - All unique emails in data:",[...new Set(t.map(r=>r["Email Address"]).filter(Boolean))])),this.dashboardData.set(t)},error:t=>{this.error.set(this.extractErrorMessage(t)),this.dashboardData.set([])}})}createLineChartData(e,t,r="Total Drops",a={background:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 1)"}){return{datasets:[{data:t,label:r,backgroundColor:a.background,borderColor:a.border,pointBackgroundColor:a.border,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:a.border,fill:"origin"}],labels:e}}createPieChartData(e,t,r=[]){return{labels:e,datasets:[{data:t,backgroundColor:r.length>0?r:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:"#fff",borderWidth:1}]}}sumNumeric(e,t){return e.reduce((r,a)=>{let s=a[t],l=this.ensureNumber(s);return r+l},0)}groupAndSum(e,t,r="Total Drops"){let a=new Map;e.forEach(p=>{let c=t(p)||"Unknown",D=(a.get(c)??0)+this.ensureNumber(p[r]);a.set(c,D)});let s=Array.from(a.keys()),l=s.map(p=>a.get(p)??0);return{labels:s,values:l}}ensureNumber(e){if(typeof e=="number")return e;if(typeof e=="string"&&e.trim()==="")return 0;let t=Number(e);return Number.isFinite(t)?t:0}tryGetMonthFromDate(e){if(!e)return"Unknown";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{month:"short",year:"numeric"})}formatTimestamp(e){if(!e)return"Unknown time";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}extractErrorMessage(e){return e instanceof Error||e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?e.message:"Unable to load dashboard data. Please try again later."}getRangeBounds(e,t,r){let a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate());switch(e){case"today":return{startDate:s,endDate:new Date(s.getTime()+24*60*60*1e3-1)};case"week":{let l=new Date(s);return l.setDate(l.getDate()-6),{startDate:l,endDate:a}}case"month":return{startDate:new Date(a.getFullYear(),a.getMonth(),1),endDate:a};case"year":return{startDate:new Date(a.getFullYear(),0,1),endDate:a};case"custom":{let l=t?new Date(new Date(t).setHours(0,0,0,0)):null,p=r?new Date(new Date(r).setHours(0,0,0,0)):null;return{startDate:l,endDate:p}}default:return{startDate:null,endDate:null}}}parseRecordDate(e){let t=e.DATE||e.Timestamp;if(!t)return null;let r=new Date(t);return Number.isNaN(r.getTime())?null:r}applyCustomRange(){this.isCustomRangeValid()&&this.performanceRange.set("custom")}isCustomRangeValid=h(()=>{let e=this.customStart(),t=this.customEnd();if(!e||!t)return!1;let r=new Date(e),a=new Date(t);return r<=a});setRange(e){this.performanceRange.set(e),e!=="custom"&&(this.customStart.set(null),this.customEnd.set(null))}updateCustomStart(e){this.customStart.set(e||null)}updateCustomEnd(e){this.customEnd.set(e||null)}updateFilter(e,t){this.tableFilters.update(r=>j(z({},r),{[e]:t}))}clearFilters(){this.tableFilters.set(this.tableColumns.reduce((e,t)=>(e[t.key]="",e),{}))}toggleSort(e){this.sortState.update(t=>!t||t.key!==e?{key:e,direction:"asc"}:t.direction==="asc"?{key:e,direction:"desc"}:null)}getSortDirection(e){return this.sortState()?.key===e?this.sortState().direction:null}getFilterValue(e){return this.tableFilters()[e]??""}formatCellValue(e,t){let r=e[t.key];return r==null?"\u2014":t.key==="Timestamp"?this.formatTimestamp(String(r)):String(r)}trackByRecord=(e,t)=>t.Timestamp||t.FIN||e;static \u0275fac=function(t){return new(t||o)};static \u0275cmp=$({type:o,selectors:[["app-user-dashboard"]],decls:98,vars:51,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"rounded-md","border","border-primary-200","bg-primary-50","px-4","py-3","text-sm","text-primary-800"],[1,"rounded-md","border","border-red-200","bg-red-50","px-4","py-3","text-sm","text-red-700"],[1,"flex","flex-col","gap-3","lg:flex-row","lg:items-center","lg:justify-between"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"rounded-full","border","px-4","py-1.5","text-sm","font-medium","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"bg-primary-600","text-white","border-primary-600","border-gray-200","text-gray-600"],[1,"flex","flex-wrap","items-center","gap-2"],["type","date",1,"rounded-md","border","border-gray-300","px-3","py-1.5","text-sm","focus:border-primary-500","focus:outline-none","focus:ring-2","focus:ring-primary-200",3,"change","value"],[1,"text-sm","text-gray-400"],["type","button",1,"rounded-md","bg-primary-600","px-4","py-1.5","text-sm","font-medium","text-white","transition","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","disabled:bg-gray-300","disabled:text-gray-500",3,"click","disabled"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-2xl","font-semibold","text-gray-900"],[1,"mt-1","text-xs","text-gray-500"],[1,"p-3","bg-yellow-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"p-3","bg-primary-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"p-3","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["title","Monthly Drops","subtitle","Aggregated by month","height","256px",3,"chartData","chartOptions","chartType"],["title","Daily Drops Trends","subtitle","Total drops per day","height","256px",3,"chartData","chartOptions","chartType"],["title","Drop Type Distribution","subtitle","Share of drop categories","height","256px",3,"chartData","chartOptions","chartType"],["title","Grouped Summary","subtitle","Grouped by Date","padding","sm"],[3,"columns","data","pagination","pageSize","showToolbar","showFilters","searchable"],["title","Drop Records","subtitle","Filter each column or sort to analyse your drop performance","padding","sm"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-wrap","items-center","justify-between","gap-3"],[1,"text-sm","text-gray-600"],["type","button",1,"inline-flex","items-center","gap-2","rounded-md","border","border-gray-300","bg-white","px-3","py-1.5","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"click"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-4","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wider","text-gray-500"],[1,"bg-white"],[1,"px-4","py-2"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],["type","button",1,"rounded-full","border","px-4","py-1.5","text-sm","font-medium","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"click"],["type","button",1,"flex","items-center","gap-2","text-left","hover:text-primary-600","focus:outline-none",3,"click"],[1,"text-gray-400"],[1,"w-full","rounded-md","border","border-gray-300","px-2","py-1","text-sm","focus:border-primary-500","focus:outline-none","focus:ring-2","focus:ring-primary-200",3,"input","value","placeholder"],[1,"px-4","py-3","text-sm","text-gray-900"],[1,"px-4","py-6","text-center","text-sm","text-gray-500"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div")(2,"h1",1),d(3,"My Dashboard"),i(),n(4,"p",2),d(5,"View your performance data and statistics."),i()(),L(6,ge,2,0,"div",3)(7,De,2,1,"div",4),n(8,"div",5)(9,"div",6),k(10,fe,2,11,"button",7,be),i(),n(12,"div",8)(13,"input",9),x("change",function(s){return r.updateCustomStart((s.target==null?null:s.target.value)||"")}),i(),n(14,"span",10),d(15,"to"),i(),n(16,"input",9),x("change",function(s){return r.updateCustomEnd((s.target==null?null:s.target.value)||"")}),i(),n(17,"button",11),x("click",function(){return r.applyCustomRange()}),d(18," Apply "),i()()(),n(19,"div",12)(20,"app-card")(21,"div",13)(22,"div")(23,"p",14),d(24,"Total Drops"),i(),n(25,"p",15),d(26),v(27,"number"),i(),n(28,"p",16),d(29),v(30,"number"),i(),n(31,"p",16),d(32),v(33,"number"),i(),n(34,"p",16),d(35),v(36,"number"),i(),n(37,"p",16),d(38),v(39,"number"),i(),n(40,"p",16),d(41),v(42,"number"),i()(),n(43,"div",17),U(),n(44,"svg",18),S(45,"path",19),i()()()(),F(),n(46,"app-card")(47,"div",13)(48,"div")(49,"p",14),d(50,"Days Active"),i(),n(51,"p",15),d(52),v(53,"number"),i(),n(54,"p",16),d(55),i()(),n(56,"div",20),U(),n(57,"svg",21),S(58,"path",22),i()()()(),F(),n(59,"app-card")(60,"div",13)(61,"div")(62,"p",14),d(63,"Average per Day"),i(),n(64,"p",15),d(65),v(66,"number"),i(),n(67,"p",16),d(68," Total drops divided by active days "),i()(),n(69,"div",23),U(),n(70,"svg",24),S(71,"path",25),i()()()()(),F(),n(72,"div",26),S(73,"app-chart-wrapper",27)(74,"app-chart-wrapper",28),i(),S(75,"app-chart-wrapper",29),n(76,"app-card",30),S(77,"app-data-table",31),i(),n(78,"app-card",32)(79,"div",33)(80,"div",34)(81,"p",35),d(82),i(),n(83,"button",36),x("click",function(){return r.clearFilters()}),d(84," Clear filters "),i()(),n(85,"div",37)(86,"table",38)(87,"thead",39)(88,"tr"),k(89,xe,8,2,"th",40,O),i(),n(91,"tr",41),k(92,Te,2,3,"th",42,O),i()(),n(94,"tbody",43),k(95,_e,3,0,"tr",44,r.trackByRecord,!0,ke,3,1,"tr"),i()()()()()()),t&2&&(u(6),A(r.isLoading()?6:-1),u(),A(r.error()?7:-1),u(3),w(r.rangeOptions),u(3),C("value",r.customStart()||""),u(3),C("value",r.customEnd()||""),u(),C("disabled",!r.isCustomRangeValid()),u(9),g(" ",_(27,33,r.totalDrops())," "),u(3),g(" Multi drops: ",_(30,35,r.multiDrops())," "),u(3),g(" Heavy drops: ",_(33,37,r.heavyDrops())," "),u(3),g(" Walkup drops: ",_(36,39,r.walkupDropCount())," "),u(3),g(" Double drops: ",_(39,41,r.doubleDropCount())," "),u(3),g(" Avg drops/day: ",B(42,43,r.totalDrops()/r.dailyTotals(),"1.0-1")," "),u(11),g(" ",_(53,46,r.dailyTotals())," "),u(3),g(" Records: ",r.recordsCount()," "),u(10),g(" ",r.dailyTotals()>0?B(66,48,r.totalDrops()/r.dailyTotals(),"1.0-1"):0," "),u(8),C("chartData",r.lineChartData())("chartOptions",r.lineChartOptions)("chartType",r.lineChartType),u(),C("chartData",r.dailyTrendsChartData())("chartOptions",r.dailyTrendsChartOptions)("chartType",r.dailyTrendsChartType),u(),C("chartData",r.dropTypeChartData())("chartOptions",r.dropTypeChartOptions)("chartType",r.dropTypeChartType),u(2),C("columns",r.groupedTableColumns)("data",r.groupedDataSignal)("pagination",!0)("pageSize",r.groupedTablePageSize)("showToolbar",!1)("showFilters",!0)("searchable",!1),u(5),Z(" Showing ",r.filteredTableData().length," of ",r.recordsCount()," records "),u(7),w(r.tableColumns),u(3),w(r.tableColumns),u(3),w(r.filteredTableData()))},dependencies:[K,X,re,ae,ne],encapsulation:2})}return o})()});we();export{Ie as UserDashboardComponent};
