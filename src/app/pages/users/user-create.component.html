<div class="space-y-6">
  <div class="flex items-center gap-4">
    <app-button variant="ghost" routerLink="/users">
      â† Back
    </app-button>
    <h1 class="text-2xl font-bold text-gray-900">Create User</h1>
  </div>

  <app-card title="User Information">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <app-form-field
        label="Full Name"
        [required]="true"
        inputId="name"
        [error]="name?.touched && name?.invalid ? 'Name is required' : undefined"
      >
        <input
          id="name"
          type="text"
          formControlName="name"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
          [class.border-red-500]="name?.touched && name?.invalid"
        />
      </app-form-field>

      <app-form-field
        label="Email"
        [required]="true"
        inputId="email"
        [error]="email?.touched && email?.invalid ? 'Please enter a valid email' : undefined"
      >
        <input
          id="email"
          type="email"
          formControlName="email"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
          [class.border-red-500]="email?.touched && email?.invalid"
        />
      </app-form-field>

      <app-form-field
        label="Role"
        [required]="true"
        inputId="role"
      >
        <select
          id="role"
          formControlName="role"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
        >
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
      </app-form-field>

      <app-form-field
        label="Password"
        [required]="true"
        inputId="password"
        [error]="password?.touched && password?.invalid ? 'Password must be at least 6 characters' : undefined"
      >
        <input
          id="password"
          type="password"
          formControlName="password"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
          [class.border-red-500]="password?.touched && password?.invalid"
        />
      </app-form-field>

      <div class="flex justify-end gap-3">
        <app-button
          type="button"
          variant="secondary"
          (click)="router.navigate(['/users'])"
        >
          Cancel
        </app-button>
        <app-button
          type="submit"
          variant="primary"
          [disabled]="isLoading()"
          [loading]="isLoading()"
        >
          Create User
        </app-button>
      </div>
    </form>
  </app-card>
</div>
