import{h as m,m as d}from"./chunk-AOQOHXCM.js";import{I as i,J as k,K as p,Kb as c,N as s,Nb as u,S as a,j as o,oa as l,z as n}from"./chunk-ZWOVSD7C.js";import{d as g}from"./chunk-3A3XYTID.js";var j,f=g(()=>{"use strict";u();k();p();u();d();j=(()=>{class t{router;currentUserSignal=l(null);currentUser=this.currentUserSignal.asReadonly();isAuthenticated=c(()=>this.currentUserSignal()!==null);tokenKey="auth_token";constructor(e){this.router=e,this.checkExistingSession()}login(e,r){return o({id:"1",name:"John Doe",email:e,role:"admin"}).pipe(n(1e3),i(h=>{this.currentUserSignal.set(h),localStorage.setItem(this.tokenKey,"mock_token_"+Date.now())}))}logout(){this.currentUserSignal.set(null),localStorage.removeItem(this.tokenKey),this.router.navigate(["/login"])}checkExistingSession(){localStorage.getItem(this.tokenKey)&&this.currentUserSignal.set({id:"1",name:"John Doe",email:"john@example.com",role:"admin"})}getToken(){return localStorage.getItem(this.tokenKey)}hasRole(e){return this.currentUser()?.role===e}hasAnyRole(e){let r=this.currentUser()?.role;return r?e.includes(r):!1}static \u0275fac=function(r){return new(r||t)(a(m))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()});export{j as a,f as b};
